<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Android 网络库 | 空指针灬异常</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="学习之路">
    
    <link rel="preload" href="/StudyRecord/assets/css/0.styles.f8b596a9.css" as="style"><link rel="preload" href="/StudyRecord/assets/js/app.6c97d0be.js" as="script"><link rel="preload" href="/StudyRecord/assets/js/2.711b5d2d.js" as="script"><link rel="preload" href="/StudyRecord/assets/js/13.b9ed5b42.js" as="script"><link rel="prefetch" href="/StudyRecord/assets/js/10.b83bebe1.js"><link rel="prefetch" href="/StudyRecord/assets/js/11.512f05a2.js"><link rel="prefetch" href="/StudyRecord/assets/js/12.94471144.js"><link rel="prefetch" href="/StudyRecord/assets/js/14.fbefe1ec.js"><link rel="prefetch" href="/StudyRecord/assets/js/15.af1daab4.js"><link rel="prefetch" href="/StudyRecord/assets/js/16.577c7a81.js"><link rel="prefetch" href="/StudyRecord/assets/js/17.17e4b2f4.js"><link rel="prefetch" href="/StudyRecord/assets/js/3.546ba140.js"><link rel="prefetch" href="/StudyRecord/assets/js/4.b7d0708f.js"><link rel="prefetch" href="/StudyRecord/assets/js/5.9e2f4ca7.js"><link rel="prefetch" href="/StudyRecord/assets/js/6.c7b54f12.js"><link rel="prefetch" href="/StudyRecord/assets/js/7.f39602d3.js"><link rel="prefetch" href="/StudyRecord/assets/js/8.1e324f54.js"><link rel="prefetch" href="/StudyRecord/assets/js/9.0259aab8.js">
    <link rel="stylesheet" href="/StudyRecord/assets/css/0.styles.f8b596a9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/StudyRecord/" class="home-link router-link-active"><!----> <span class="site-name">空指针灬异常</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Android Menu" class="dropdown-title"><span class="title">Android</span> <span class="arrow down"></span></button> <button type="button" aria-label="Android Menu" class="mobile-dropdown-title"><span class="title">Android</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/android/" class="nav-link router-link-active">
  Jetpack
</a></li><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/android/AndroidView.html" class="nav-link">
  Android常用控件
</a></li><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/android/Dependency.html" class="nav-link">
  Android常用依赖
</a></li><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/android/AndroidOpenRes.html" class="nav-link">
  Android开源库
</a></li><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/android/ErrorCollection.html" class="nav-link">
  Android错误收集
</a></li><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/android/network.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Android Network
</a></li></ul></div></div><div class="nav-item"><a href="/StudyRecord/guide/js/" class="nav-link">
  JS
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/vue/VuePress.html" class="nav-link">
  VuePress
</a></li><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/vue/Yarn.html" class="nav-link">
  Yarn
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Android Menu" class="dropdown-title"><span class="title">Android</span> <span class="arrow down"></span></button> <button type="button" aria-label="Android Menu" class="mobile-dropdown-title"><span class="title">Android</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/android/" class="nav-link router-link-active">
  Jetpack
</a></li><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/android/AndroidView.html" class="nav-link">
  Android常用控件
</a></li><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/android/Dependency.html" class="nav-link">
  Android常用依赖
</a></li><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/android/AndroidOpenRes.html" class="nav-link">
  Android开源库
</a></li><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/android/ErrorCollection.html" class="nav-link">
  Android错误收集
</a></li><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/android/network.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Android Network
</a></li></ul></div></div><div class="nav-item"><a href="/StudyRecord/guide/js/" class="nav-link">
  JS
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/vue/VuePress.html" class="nav-link">
  VuePress
</a></li><li class="dropdown-item"><!----> <a href="/StudyRecord/guide/vue/Yarn.html" class="nav-link">
  Yarn
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Android</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/StudyRecord/guide/android/" aria-current="page" class="sidebar-link">JetPack</a></li><li><a href="/StudyRecord/guide/android/AndroidView.html" class="sidebar-link">Android常用控件</a></li><li><a href="/StudyRecord/guide/android/Dependency.html" class="sidebar-link">Android 常用依赖</a></li><li><a href="/StudyRecord/guide/android/AndroidOpenRes.html" class="sidebar-link">Android 开源项目</a></li><li><a href="/StudyRecord/guide/android/ErrorCollection.html" class="sidebar-link">Android 异常收集</a></li><li><a href="/StudyRecord/guide/android/network.html" aria-current="page" class="active sidebar-link">Android 网络库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#okhttp" class="sidebar-link">Okhttp</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#基础使用" class="sidebar-link">基础使用</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#get-的同步请求" class="sidebar-link">GET 的同步请求 :</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#get-的异步请求" class="sidebar-link">GET 的异步请求:</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#get-请求携带参数" class="sidebar-link">GET 请求携带参数</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#post-string" class="sidebar-link">POST String</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#post-file" class="sidebar-link">POST File</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#post-form-parameters" class="sidebar-link">POST Form parameters</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#post-multipartbody" class="sidebar-link">POST MultipartBody</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#response-caching" class="sidebar-link">Response  Caching</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#canceling-a-call" class="sidebar-link">Canceling a Call</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#timeouts" class="sidebar-link">Timeouts</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#interceptor" class="sidebar-link">Interceptor</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#rewriting-requests" class="sidebar-link">Rewriting Requests</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#cookiejar" class="sidebar-link">CookieJar</a></li></ul></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#retrofit" class="sidebar-link">Retrofit</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#retrofit-使用" class="sidebar-link">Retrofit 使用</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#url-操作" class="sidebar-link">URL 操作</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#请求体" class="sidebar-link">请求体</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#form-表单" class="sidebar-link">Form 表单</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#上传文件" class="sidebar-link">上传文件</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#请求头" class="sidebar-link">请求头</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#数据转换器" class="sidebar-link">数据转换器</a></li></ul></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#http-content-type" class="sidebar-link">HTTP content-type</a></li><li class="sidebar-sub-header"><a href="/StudyRecord/guide/android/network.html#http-content-type-对照表" class="sidebar-link">HTTP content-type 对照表</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="android-网络库"><a href="#android-网络库" class="header-anchor">#</a> Android 网络库</h1> <h2 id="okhttp"><a href="#okhttp" class="header-anchor">#</a> Okhttp</h2> <h3 id="基础使用"><a href="#基础使用" class="header-anchor">#</a> 基础使用</h3> <ol><li><p>创建 HttpClient</p></li> <li><p>创建 Request 通过Request.Builder() 构建</p></li> <li><p>通过 HttpClient 的newCall 方法创建 Call <code>A call is a request that has been prepared for execution. A call can be canceled. As this object represents a single request/response pair (stream), it cannot be executed twice.</code></p></li> <li><p>通过Call 的 execute 执行同步请求   通过 enqueue 执行异步请求</p></li></ol> <h3 id="get-的同步请求"><a href="#get-的同步请求" class="header-anchor">#</a> GET 的同步请求 :</h3> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> httpClient <span class="token operator">=</span> <span class="token function">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">val</span> request <span class="token operator">=</span> Request<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;http://httpbin.org/get&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">val</span> call <span class="token operator">=</span> httpClient<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span>
<span class="token keyword">val</span> response <span class="token operator">=</span> call<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>isSuccessful<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;sync get response: &quot;</span></span><span class="token operator">+</span>response<span class="token punctuation">.</span>body<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="get-的异步请求"><a href="#get-的异步请求" class="header-anchor">#</a> GET 的异步请求:</h3> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> httpClient <span class="token operator">=</span> <span class="token function">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">val</span> request <span class="token operator">=</span> Request<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;http://httpbin.org/get&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
httpClient<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token keyword">object</span> <span class="token operator">:</span> Callback<span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onFailure</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token punctuation">,</span> e<span class="token operator">:</span> IOException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onResponse</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token punctuation">,</span> response<span class="token operator">:</span> Response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>isSuccessful<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;onResponse success: &quot;</span></span><span class="token operator">+</span>response<span class="token punctuation">.</span>body<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;onResponse failed:  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">response</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;async get&quot;</span></span><span class="token punctuation">,</span> <span class="token punctuation">)</span>
</code></pre></div><h3 id="get-请求携带参数"><a href="#get-请求携带参数" class="header-anchor">#</a> GET 请求携带参数</h3> <p>GET 请求的参数拼接在 url 中 。在 url 末尾通过 ?&amp;key1=value1&amp;key2=value2 拼接</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> url <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;http://httpbin.org/get?&amp;account=leo&amp;password=123456&quot;</span></span>
<span class="token keyword">val</span> request <span class="token operator">=</span> Request<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
httpClient<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token keyword">object</span> <span class="token operator">:</span> Callback<span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onFailure</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token punctuation">,</span> e<span class="token operator">:</span> IOException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;getWithQuery: failed&quot;</span></span><span class="token punctuation">)</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onResponse</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token punctuation">,</span> response<span class="token operator">:</span> Response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>isSuccessful<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;onResponse: &quot;</span></span><span class="token operator">+</span>response<span class="token punctuation">.</span>body<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="post-string"><a href="#post-string" class="header-anchor">#</a> POST String</h3> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">postString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">val</span> MEDIA_TYPE_MARKDOWN <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;text/x-markdown; charset=utf-8&quot;</span></span><span class="token punctuation">.</span><span class="token function">toMediaTypeOrNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> postBody <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;这是一个 post  string  请求&quot;</span></span>
    <span class="token keyword">val</span> request <span class="token operator">=</span> Request<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;http://httpbin.org/post&quot;</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>postBody<span class="token punctuation">.</span><span class="token function">toRequestBody</span><span class="token punctuation">(</span>MEDIA_TYPE_MARKDOWN<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    httpClient<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token keyword">object</span> <span class="token operator">:</span>Callback <span class="token punctuation">{</span>
        <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onFailure</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token punctuation">,</span> e<span class="token operator">:</span> IOException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onResponse</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token punctuation">,</span> response<span class="token operator">:</span> Response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>isSuccessful<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;onResponse: &quot;</span></span><span class="token operator">+</span>response<span class="token punctuation">.</span>body<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;onResponse: &quot;</span></span><span class="token operator">+</span>response<span class="token punctuation">.</span>message <span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="post-file"><a href="#post-file" class="header-anchor">#</a> POST File</h3> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code>    <span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">postFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">val</span> MEDIA_TYPE_MARKDOWN <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;text/x-markdown; charset=utf-8&quot;</span></span><span class="token punctuation">.</span><span class="token function">toMediaTypeOrNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">val</span> file <span class="token operator">=</span> <span class="token function">File</span><span class="token punctuation">(</span><span class="token function">getExternalFilesDir</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;testFile.md&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            file<span class="token punctuation">.</span><span class="token function">createNewFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">val</span> randomAccessFile <span class="token operator">=</span> <span class="token function">RandomAccessFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;rw&quot;</span></span><span class="token punctuation">)</span>
        randomAccessFile<span class="token punctuation">.</span><span class="token function">writeUTF</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;这是一个 post 文件&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">val</span> request <span class="token operator">=</span> Request<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;http://httpbin.org/post&quot;</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">asRequestBody</span><span class="token punctuation">(</span>MEDIA_TYPE_MARKDOWN<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        httpClient<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token keyword">object</span> <span class="token operator">:</span>Callback <span class="token punctuation">{</span>
            <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onFailure</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token punctuation">,</span> e<span class="token operator">:</span> IOException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onResponse</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token punctuation">,</span> response<span class="token operator">:</span> Response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>isSuccessful<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;onResponse: &quot;</span></span><span class="token operator">+</span>response<span class="token punctuation">.</span>body<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                    Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;onResponse: &quot;</span></span><span class="token operator">+</span>response<span class="token punctuation">.</span>message <span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="post-form-parameters"><a href="#post-form-parameters" class="header-anchor">#</a> POST Form parameters</h3> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code>    <span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">postFormBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">val</span> formBody <span class="token operator">=</span> FormBody<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;account&quot;</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;leopold&quot;</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;password&quot;</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;123abc&quot;</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">val</span> request <span class="token operator">=</span> Request<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;http://httpbin.org/post&quot;</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>formBody<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        httpClient<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token keyword">object</span> <span class="token operator">:</span>Callback <span class="token punctuation">{</span>
            <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onFailure</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token punctuation">,</span> e<span class="token operator">:</span> IOException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onResponse</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token punctuation">,</span> response<span class="token operator">:</span> Response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>isSuccessful<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;onResponse: &quot;</span></span><span class="token operator">+</span>response<span class="token punctuation">.</span>body<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                    Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;onResponse: &quot;</span></span><span class="token operator">+</span>response<span class="token punctuation">.</span>message <span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="post-multipartbody"><a href="#post-multipartbody" class="header-anchor">#</a> POST MultipartBody</h3> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code>    <span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">postMultiPartBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> MEDIA_TYPE_MARKDOWN <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;text/x-markdown; charset=utf-8&quot;</span></span><span class="token punctuation">.</span><span class="token function">toMediaTypeOrNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">val</span> file <span class="token operator">=</span> <span class="token function">File</span><span class="token punctuation">(</span><span class="token function">getExternalFilesDir</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;testFile.md&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            file<span class="token punctuation">.</span><span class="token function">createNewFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">val</span> randomAccessFile <span class="token operator">=</span> <span class="token function">RandomAccessFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;rw&quot;</span></span><span class="token punctuation">)</span>
        randomAccessFile<span class="token punctuation">.</span><span class="token function">writeUTF</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;这是一个 post 文件&quot;</span></span><span class="token punctuation">)</span>

        <span class="token keyword">val</span> multiPartBody <span class="token operator">=</span> MultipartBody<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span>MultipartBody<span class="token punctuation">.</span>FORM<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addFormDataPart</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;key1&quot;</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;value1&quot;</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addFormDataPart</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;key2&quot;</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">&quot;mdFile&quot;</span></span><span class="token punctuation">,</span>file<span class="token punctuation">.</span><span class="token function">asRequestBody</span><span class="token punctuation">(</span>MEDIA_TYPE_MARKDOWN<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">val</span> request <span class="token operator">=</span> Request<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;http://httpbin.org/post&quot;</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>multiPartBody<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        httpClient<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token keyword">object</span> <span class="token operator">:</span>Callback <span class="token punctuation">{</span>
            <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onFailure</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token punctuation">,</span> e<span class="token operator">:</span> IOException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onResponse</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token punctuation">,</span> response<span class="token operator">:</span> Response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>isSuccessful<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;onResponse: &quot;</span></span><span class="token operator">+</span>response<span class="token punctuation">.</span>body<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                    Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;onResponse: &quot;</span></span><span class="token operator">+</span>response<span class="token punctuation">.</span>message <span class="token punctuation">)</span>
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="response-caching"><a href="#response-caching" class="header-anchor">#</a> Response  Caching</h3> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code>    <span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">getCachingHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span>OkHttpClient<span class="token punctuation">{</span>
        <span class="token keyword">val</span> catchDir <span class="token operator">=</span> <span class="token function">getExternalFilesDir</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;cache&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">val</span> client <span class="token operator">=</span> OkHttpClient<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">cache</span><span class="token punctuation">(</span><span class="token function">Cache</span><span class="token punctuation">(</span>cacheDir<span class="token punctuation">,</span><span class="token number">10</span><span class="token operator">*</span><span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> client<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre></div><h3 id="canceling-a-call"><a href="#canceling-a-call" class="header-anchor">#</a> Canceling a Call</h3> <p>调用 Call.cancel 方法立即停止一个正在请求的 Call ,如果线程当前正在写入请求或读取响应，它将收到 IOException。</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">cancelCall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> executor <span class="token operator">=</span> Executors<span class="token punctuation">.</span><span class="token function">newScheduledThreadPool</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">val</span> client <span class="token operator">=</span> <span class="token function">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">val</span> request <span class="token operator">=</span> Request<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;http://httpbin.org/delay/2&quot;</span></span><span class="token punctuation">)</span> <span class="token comment">// This URL is served with a 2 second delay.</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token keyword">val</span> call <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span>
        <span class="token comment">// 一秒后取消请求</span>
        executor<span class="token punctuation">.</span><span class="token function">schedule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;canceling&quot;</span></span><span class="token punctuation">,</span> <span class="token punctuation">)</span>
            call<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;canceled&quot;</span></span><span class="token punctuation">,</span> <span class="token punctuation">)</span>
           
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
        Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;calling&quot;</span></span><span class="token punctuation">)</span>
        call<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token keyword">object</span> <span class="token operator">:</span>Callback <span class="token punctuation">{</span>
            <span class="token comment">//取消请求将收到该条回调</span>
            <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onFailure</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token punctuation">,</span> e<span class="token operator">:</span> IOException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;onFailure: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">e</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onResponse</span><span class="token punctuation">(</span>call<span class="token operator">:</span> Call<span class="token punctuation">,</span> response<span class="token operator">:</span> Response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;OkhttpActivity&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;onResponse: &quot;</span></span><span class="token punctuation">,</span> <span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     val request = Request.Builder()
        .url(&quot;http://httpbin.org/delay/2&quot;) // This URL is served with a 2 second delay.
        .tag(tag)
        .build()
     * 通过 Request 传入TAG
     * 
     */</span>
    <span class="token keyword">fun</span> <span class="token function">cancelWithTag</span><span class="token punctuation">(</span>httpClient<span class="token operator">:</span> OkHttpClient<span class="token punctuation">,</span>tag<span class="token operator">:</span>Any<span class="token punctuation">)</span><span class="token punctuation">{</span>

        <span class="token keyword">val</span> queuedCalls <span class="token operator">=</span> httpClient<span class="token punctuation">.</span>dispatcher<span class="token punctuation">.</span><span class="token function">queuedCalls</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>call <span class="token keyword">in</span> queuedCalls<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>tag <span class="token operator">==</span> call<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                call<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>runningCall <span class="token keyword">in</span> httpClient<span class="token punctuation">.</span>dispatcher<span class="token punctuation">.</span><span class="token function">runningCalls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>tag <span class="token operator">==</span> runningCall<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                runningCall<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="timeouts"><a href="#timeouts" class="header-anchor">#</a> Timeouts</h3> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code> <span class="token keyword">private</span> <span class="token keyword">val</span> client<span class="token operator">:</span> OkHttpClient <span class="token operator">=</span> OkHttpClient<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">connectTimeout</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">writeTimeout</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">readTimeout</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">callTimeout</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="interceptor"><a href="#interceptor" class="header-anchor">#</a> Interceptor</h3> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">class</span> LoggingInterceptor implements Interceptor <span class="token punctuation">{</span>
  <span class="token annotation builtin">@Override</span> <span class="token keyword">public</span> Response <span class="token function">intercept</span><span class="token punctuation">(</span>Interceptor<span class="token punctuation">.</span>Chain chain<span class="token punctuation">)</span> throws IOException <span class="token punctuation">{</span>
    Request request <span class="token operator">=</span> chain<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    long t1 <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Sending request %s on %s%n%s&quot;</span></span><span class="token punctuation">,</span>
        request<span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> chain<span class="token punctuation">.</span><span class="token function">connection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    Response response <span class="token operator">=</span> chain<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>

    long t2 <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Received response for %s in %.1fms%n%s&quot;</span></span><span class="token punctuation">,</span>
        response<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>t2 <span class="token operator">-</span> t1<span class="token punctuation">)</span> <span class="token operator">/</span> 1e6d<span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> response<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="https://square.github.io/okhttp/images/interceptors%402x.png" alt=""></p> <h3 id="rewriting-requests"><a href="#rewriting-requests" class="header-anchor">#</a> Rewriting Requests</h3> <p>拦截器可以添加、删除或替换请求头。它们还可以转换有一个请求的请求体。</p> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token comment">/** This interceptor compresses the HTTP request body. Many webservers can't handle this! */</span>
<span class="token keyword">final</span> <span class="token keyword">class</span> GzipRequestInterceptor implements Interceptor <span class="token punctuation">{</span>
  <span class="token annotation builtin">@Override</span> <span class="token keyword">public</span> Response <span class="token function">intercept</span><span class="token punctuation">(</span>Interceptor<span class="token punctuation">.</span>Chain chain<span class="token punctuation">)</span> throws IOException <span class="token punctuation">{</span>
    Request originalRequest <span class="token operator">=</span> chain<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>originalRequest<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> originalRequest<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Content-Encoding&quot;</span></span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> chain<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span>originalRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    Request compressedRequest <span class="token operator">=</span> originalRequest<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Content-Encoding&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;gzip&quot;</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>originalRequest<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">gzip</span><span class="token punctuation">(</span>originalRequest<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> chain<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span>compressedRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> RequestBody <span class="token function">gzip</span><span class="token punctuation">(</span><span class="token keyword">final</span> RequestBody body<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> new <span class="token function">RequestBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation builtin">@Override</span> <span class="token keyword">public</span> MediaType <span class="token function">contentType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> body<span class="token punctuation">.</span><span class="token function">contentType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token annotation builtin">@Override</span> <span class="token keyword">public</span> long <span class="token function">contentLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// We don't know the compressed length in advance!</span>
      <span class="token punctuation">}</span>

      <span class="token annotation builtin">@Override</span> <span class="token keyword">public</span> void <span class="token function">writeTo</span><span class="token punctuation">(</span>BufferedSink sink<span class="token punctuation">)</span> throws IOException <span class="token punctuation">{</span>
        BufferedSink gzipSink <span class="token operator">=</span> Okio<span class="token punctuation">.</span><span class="token function">buffer</span><span class="token punctuation">(</span>new <span class="token function">GzipSink</span><span class="token punctuation">(</span>sink<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        body<span class="token punctuation">.</span><span class="token function">writeTo</span><span class="token punctuation">(</span>gzipSink<span class="token punctuation">)</span><span class="token punctuation">;</span>
        gzipSink<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="cookiejar"><a href="#cookiejar" class="header-anchor">#</a> CookieJar</h3> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> cookieMap <span class="token operator">:</span>MutableMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span>List<span class="token operator">&lt;</span>Cookie<span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">mutableMapOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">val</span> client <span class="token operator">=</span> OkHttpClient<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">cookieJar</span><span class="token punctuation">(</span><span class="token keyword">object</span> <span class="token operator">:</span>CookieJar<span class="token punctuation">{</span>
        <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">loadForRequest</span><span class="token punctuation">(</span>url<span class="token operator">:</span> HttpUrl<span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>Cookie<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cookieMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>host<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> cookieMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>host<span class="token punctuation">)</span><span class="token operator">!!</span> <span class="token keyword">else</span> listOf<span class="token operator">&lt;</span>Cookie<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">saveFromResponse</span><span class="token punctuation">(</span>url<span class="token operator">:</span> HttpUrl<span class="token punctuation">,</span> cookies<span class="token operator">:</span> List<span class="token operator">&lt;</span>Cookie<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            cookieMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>host<span class="token punctuation">,</span>cookies<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="retrofit"><a href="#retrofit" class="header-anchor">#</a> Retrofit</h2> <p><img src="/imgs/img_retrofit.png" alt="注解"></p> <h3 id="retrofit-使用"><a href="#retrofit-使用" class="header-anchor">#</a> Retrofit 使用</h3> <h4 id="创建请求接口"><a href="#创建请求接口" class="header-anchor">#</a> 创建请求接口</h4> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">interface</span> HttpbinService <span class="token punctuation">{</span>
    <span class="token annotation builtin">@GET</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;/get&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">fun</span> <span class="token keyword">get</span> <span class="token punctuation">(</span><span class="token annotation builtin">@Query</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;account&quot;</span></span><span class="token punctuation">)</span> account<span class="token operator">:</span>String<span class="token punctuation">,</span><span class="token annotation builtin">@Query</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;password&quot;</span></span><span class="token punctuation">)</span> pwd<span class="token operator">:</span>String<span class="token punctuation">)</span><span class="token operator">:</span>Call<span class="token operator">&lt;</span>ResponseBody<span class="token operator">&gt;</span>

    <span class="token annotation builtin">@POST</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;/post&quot;</span></span><span class="token punctuation">)</span>
    <span class="token annotation builtin">@FormUrlEncoded</span>
    <span class="token keyword">fun</span> <span class="token function">post</span><span class="token punctuation">(</span><span class="token annotation builtin">@Field</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;account&quot;</span></span><span class="token punctuation">)</span> account<span class="token operator">:</span>String<span class="token punctuation">,</span> <span class="token annotation builtin">@Field</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;password&quot;</span></span><span class="token punctuation">)</span> pwd<span class="token operator">:</span>String<span class="token punctuation">)</span><span class="token operator">:</span>Call<span class="token operator">&lt;</span>ResponseBody<span class="token operator">&gt;</span>

<span class="token punctuation">}</span>
</code></pre></div><h4 id="创建-retrofit-对象"><a href="#创建-retrofit-对象" class="header-anchor">#</a> 创建 Retrofit 对象</h4> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> retrofit <span class="token operator">=</span> Retrofit<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">baseUrl</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;http://httpbin.org&quot;</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="通过-retrofit-对象生成一个接口实现"><a href="#通过-retrofit-对象生成一个接口实现" class="header-anchor">#</a> 通过 Retrofit 对象生成一个接口实现</h4> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> httpbinService <span class="token operator">=</span> retrofit<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>HttpbinService<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">.</span>java<span class="token punctuation">)</span>
</code></pre></div><h3 id="url-操作"><a href="#url-操作" class="header-anchor">#</a> URL 操作</h3> <ul><li>通过 @Path 传参</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@GET</span><span class="token punctuation">(</span><span class="token string">&quot;group/{id}/users&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">groupList</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Path</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> groupId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>通过 @Query 传参</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@GET</span><span class="token punctuation">(</span><span class="token string">&quot;group/{id}/users&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">groupList</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Path</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> groupId<span class="token punctuation">,</span> <span class="token annotation punctuation">@Query</span><span class="token punctuation">(</span><span class="token string">&quot;sort&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> sort<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>通过 @QueryMap 传复杂参数</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@GET</span><span class="token punctuation">(</span><span class="token string">&quot;group/{id}/users&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">groupList</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Path</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> groupId<span class="token punctuation">,</span> <span class="token annotation punctuation">@QueryMap</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="请求体"><a href="#请求体" class="header-anchor">#</a> 请求体</h3> <ul><li>通过 @Body 传递一个对象作为请求体</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@POST</span><span class="token punctuation">(</span><span class="token string">&quot;users/new&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">createUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Body</span> <span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="form-表单"><a href="#form-表单" class="header-anchor">#</a> Form 表单</h3> <p>传递 form 表单参数 ，在 post 请求方法上添加 @FormUrlEncoded 注解。参数键值对使用 @Field</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@FormUrlEncoded</span>
<span class="token annotation punctuation">@POST</span><span class="token punctuation">(</span><span class="token string">&quot;user/edit&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Field</span><span class="token punctuation">(</span><span class="token string">&quot;first_name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> first<span class="token punctuation">,</span> <span class="token annotation punctuation">@Field</span><span class="token punctuation">(</span><span class="token string">&quot;last_name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> last<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="上传文件"><a href="#上传文件" class="header-anchor">#</a> 上传文件</h3> <ol><li>在方法上使用 @Multipart 注解 参数键值对使用 @Part 传递 MultipartBody.Part 参数</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Multipart</span>
<span class="token annotation punctuation">@POST</span><span class="token punctuation">(</span><span class="token string">&quot;file/upload/image/face&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ResponseResult</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">uploadFace</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Part</span> <span class="token class-name">MultipartBody<span class="token punctuation">.</span>Part</span> body<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">RequestBody</span> requestBody <span class="token operator">=</span> <span class="token class-name">RequestBody</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">MediaType</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;image/*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MultipartBody<span class="token punctuation">.</span>Part</span> part <span class="token operator">=</span> <span class="token class-name">MultipartBody<span class="token punctuation">.</span>Part</span><span class="token punctuation">.</span><span class="token function">createFormData</span><span class="token punctuation">(</span><span class="token string">&quot;uploadFile&quot;</span><span class="token punctuation">,</span>file<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>requestBody<span class="token punctuation">)</span><span class="token punctuation">;</span>
        

</code></pre></div><ol start="2"><li>通过 @Body 传参 MultipartBody</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@POST</span><span class="token punctuation">(</span><span class="token string">&quot;measure/upload/ecg&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ResponseResult</span><span class="token punctuation">&lt;</span><span class="token class-name">UploadResult</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">uploadEcgFile</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Body</span> <span class="token class-name">MultipartBody</span> fileBody<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">RequestBody</span> requestFile <span class="token operator">=</span> <span class="token class-name">RequestBody</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">MediaType</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;audio/*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ecgFile<span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token class-name">MultipartBody</span> multipartBody <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MultipartBody<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token class-name">MultipartBody</span><span class="token punctuation">.</span>FORM<span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">addFormDataPart</span><span class="token punctuation">(</span><span class="token string">&quot;jsonData&quot;</span><span class="token punctuation">,</span><span class="token class-name">JsonUtils</span><span class="token punctuation">.</span><span class="token function">toJsonString</span><span class="token punctuation">(</span>ecgEntity<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">addFormDataPart</span><span class="token punctuation">(</span><span class="token string">&quot;ecgFile&quot;</span><span class="token punctuation">,</span>ecgFile<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>requestFile<span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">addFormDataPart</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span> ecgEntity<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="请求头"><a href="#请求头" class="header-anchor">#</a> 请求头</h3> <ol><li>在方法上添加 @Headers 注解</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Headers</span><span class="token punctuation">(</span><span class="token string">&quot;Cache-Control: max-age=640000&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@GET</span><span class="token punctuation">(</span><span class="token string">&quot;widget/list&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">widgetList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Headers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">&quot;Accept: application/vnd.github.v3.full+json&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;User-Agent: Retrofit-Sample-App&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@GET</span><span class="token punctuation">(</span><span class="token string">&quot;users/{username}&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Path</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>动态添加</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@GET</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Header</span><span class="token punctuation">(</span><span class="token string">&quot;Authorization&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> authorization<span class="token punctuation">)</span>
    
<span class="token annotation punctuation">@GET</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@HeaderMap</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> headers<span class="token punctuation">)</span>
</code></pre></div><h3 id="数据转换器"><a href="#数据转换器" class="header-anchor">#</a> 数据转换器</h3> <ol><li>添加数据转换器依赖</li></ol> <div class="language-groovy extra-class"><pre class="language-groovy"><code><span class="token keyword">def</span> retrofit_version <span class="token operator">=</span> <span class="token string gstring">&quot;2.9.0&quot;</span>
    implementation <span class="token string gstring">&quot;com.squareup.retrofit2:retrofit:<span class="token expression"><span class="token punctuation">$</span>retrofit_version</span>&quot;</span>
    <span class="token function">implementation</span><span class="token punctuation">(</span><span class="token string gstring">&quot;com.squareup.retrofit2:converter-gson:<span class="token expression"><span class="token punctuation">$</span>retrofit_version</span>&quot;</span><span class="token punctuation">)</span> <span class="token comment">//gson 数据转换器</span>
</code></pre></div><ol start="2"><li>在构建 Retrofit 对象时添加数据转换器</li></ol> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token keyword">val</span> retrofit <span class="token operator">=</span> Retrofit<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">baseUrl</span><span class="token punctuation">(</span>base_url<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addConverterFactory</span><span class="token punctuation">(</span>GsonConverterFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li><p>创建请求响应基类  以 wanandroid api 为例</p> <div class="language-java extra-class"><pre class="language-java"><code>data <span class="token keyword">class</span> <span class="token class-name">HttpResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>val errorMsg<span class="token operator">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> val errorCode<span class="token operator">:</span><span class="token class-name">Int</span><span class="token punctuation">,</span> val data<span class="token operator">:</span><span class="token class-name">T</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>修改请求方法的返回对象为响应基类</p></li></ol> <div class="language-kotlin extra-class"><pre class="language-kotlin"><code><span class="token annotation builtin">@FormUrlEncoded</span>
<span class="token annotation builtin">@POST</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;/user/login&quot;</span></span><span class="token punctuation">)</span>
<span class="token keyword">fun</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token annotation builtin">@Field</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;username&quot;</span></span><span class="token punctuation">)</span> account<span class="token operator">:</span>String<span class="token punctuation">,</span> <span class="token annotation builtin">@Field</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;password&quot;</span></span><span class="token punctuation">)</span> pwd<span class="token operator">:</span>String<span class="token punctuation">)</span><span class="token operator">:</span>Call<span class="token operator">&lt;</span>HttpResponse<span class="token operator">&lt;</span>LoginResult<span class="token operator">&gt;</span><span class="token operator">&gt;</span>
</code></pre></div><div class="language-kotlin extra-class"><pre class="language-kotlin"><code>    <span class="token annotation builtin">@Test</span>
    <span class="token keyword">fun</span> <span class="token function">loginTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> retrofit <span class="token operator">=</span> Retrofit<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">baseUrl</span><span class="token punctuation">(</span>base_url<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addConverterFactory</span><span class="token punctuation">(</span>GsonConverterFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">val</span> httpbinService <span class="token operator">=</span> retrofit<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>HttpbinService<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">.</span>java<span class="token punctuation">)</span>
        <span class="token keyword">val</span> call <span class="token operator">:</span> Call<span class="token operator">&lt;</span>HttpResponse<span class="token operator">&lt;</span>LoginResult<span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token operator">=</span> httpbinService<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;leopold&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">&quot;123456&quot;</span></span><span class="token punctuation">)</span>

        <span class="token keyword">val</span> response <span class="token operator">=</span> call<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>isSuccessful<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
</code></pre></div><h2 id="http-content-type"><a href="#http-content-type" class="header-anchor">#</a> HTTP content-type</h2> <p>Content-Type（内容类型），一般是指网页中存在的 Content-Type，用于定义网络文件的类型和网页的编码，决定浏览器将以什么形式、什么编码读取这个文件，这就是经常看到一些 PHP 网页点击的结果却是下载一个文件或一张图片的原因。</p> <p>常见的媒体格式类型如下：</p> <ul><li>text/html ： HTML格式</li> <li>text/plain ：纯文本格式</li> <li>text/xml ： XML格式</li> <li>image/gif ：gif图片格式</li> <li>image/jpeg ：jpg图片格式</li> <li>image/png：png图片格式</li></ul> <p>以application开头的媒体格式类型：</p> <ul><li>application/xhtml+xml ：XHTML格式</li> <li>application/xml： XML数据格式</li> <li>application/atom+xml ：Atom XML聚合格式</li> <li>application/json： JSON数据格式</li> <li>application/pdf：pdf格式</li> <li>application/msword ： Word文档格式</li> <li>application/octet-stream ： 二进制流数据（如常见的文件下载）</li> <li>application/x-www-form-urlencoded ： &lt;form encType=””&gt;中默认的encType，form表单数据被编码为key/value格式发送到服务器（表单默认的提交数据的格式）</li></ul> <p>另外一种常见的媒体格式是上传文件之时使用的：</p> <ul><li>multipart/form-data ： 需要在表单中进行文件上传时，就需要使用该格式</li></ul> <h2 id="http-content-type-对照表"><a href="#http-content-type-对照表" class="header-anchor">#</a> HTTP content-type 对照表</h2> <table><thead><tr><th style="text-align:left;">文件扩展名</th> <th style="text-align:left;">Content-Type(Mime-Type)</th> <th style="text-align:left;">文件扩展名</th> <th style="text-align:left;">Content-Type(Mime-Type)</th></tr></thead> <tbody><tr><td style="text-align:left;">.*（ 二进制流，不知道下载文件类型）</td> <td style="text-align:left;">application/octet-stream</td> <td style="text-align:left;">.tif</td> <td style="text-align:left;">image/tiff</td></tr> <tr><td style="text-align:left;">.001</td> <td style="text-align:left;">application/x-001</td> <td style="text-align:left;">.301</td> <td style="text-align:left;">application/x-301</td></tr> <tr><td style="text-align:left;">.323</td> <td style="text-align:left;">text/h323</td> <td style="text-align:left;">.906</td> <td style="text-align:left;">application/x-906</td></tr> <tr><td style="text-align:left;">.907</td> <td style="text-align:left;">drawing/907</td> <td style="text-align:left;">.a11</td> <td style="text-align:left;">application/x-a11</td></tr> <tr><td style="text-align:left;">.acp</td> <td style="text-align:left;">audio/x-mei-aac</td> <td style="text-align:left;">.ai</td> <td style="text-align:left;">application/postscript</td></tr> <tr><td style="text-align:left;">.aif</td> <td style="text-align:left;">audio/aiff</td> <td style="text-align:left;">.aifc</td> <td style="text-align:left;">audio/aiff</td></tr> <tr><td style="text-align:left;">.aiff</td> <td style="text-align:left;">audio/aiff</td> <td style="text-align:left;">.anv</td> <td style="text-align:left;">application/x-anv</td></tr> <tr><td style="text-align:left;">.asa</td> <td style="text-align:left;">text/asa</td> <td style="text-align:left;">.asf</td> <td style="text-align:left;">video/x-ms-asf</td></tr> <tr><td style="text-align:left;">.asp</td> <td style="text-align:left;">text/asp</td> <td style="text-align:left;">.asx</td> <td style="text-align:left;">video/x-ms-asf</td></tr> <tr><td style="text-align:left;">.au</td> <td style="text-align:left;">audio/basic</td> <td style="text-align:left;">.avi</td> <td style="text-align:left;">video/avi</td></tr> <tr><td style="text-align:left;">.awf</td> <td style="text-align:left;">application/vnd.adobe.workflow</td> <td style="text-align:left;">.biz</td> <td style="text-align:left;">text/xml</td></tr> <tr><td style="text-align:left;">.bmp</td> <td style="text-align:left;">application/x-bmp</td> <td style="text-align:left;">.bot</td> <td style="text-align:left;">application/x-bot</td></tr> <tr><td style="text-align:left;">.c4t</td> <td style="text-align:left;">application/x-c4t</td> <td style="text-align:left;">.c90</td> <td style="text-align:left;">application/x-c90</td></tr> <tr><td style="text-align:left;">.cal</td> <td style="text-align:left;">application/x-cals</td> <td style="text-align:left;">.cat</td> <td style="text-align:left;">application/vnd.ms-pki.seccat</td></tr> <tr><td style="text-align:left;">.cdf</td> <td style="text-align:left;">application/x-netcdf</td> <td style="text-align:left;">.cdr</td> <td style="text-align:left;">application/x-cdr</td></tr> <tr><td style="text-align:left;">.cel</td> <td style="text-align:left;">application/x-cel</td> <td style="text-align:left;">.cer</td> <td style="text-align:left;">application/x-x509-ca-cert</td></tr> <tr><td style="text-align:left;">.cg4</td> <td style="text-align:left;">application/x-g4</td> <td style="text-align:left;">.cgm</td> <td style="text-align:left;">application/x-cgm</td></tr> <tr><td style="text-align:left;">.cit</td> <td style="text-align:left;">application/x-cit</td> <td style="text-align:left;">.class</td> <td style="text-align:left;">java/*</td></tr> <tr><td style="text-align:left;">.cml</td> <td style="text-align:left;">text/xml</td> <td style="text-align:left;">.cmp</td> <td style="text-align:left;">application/x-cmp</td></tr> <tr><td style="text-align:left;">.cmx</td> <td style="text-align:left;">application/x-cmx</td> <td style="text-align:left;">.cot</td> <td style="text-align:left;">application/x-cot</td></tr> <tr><td style="text-align:left;">.crl</td> <td style="text-align:left;">application/pkix-crl</td> <td style="text-align:left;">.crt</td> <td style="text-align:left;">application/x-x509-ca-cert</td></tr> <tr><td style="text-align:left;">.csi</td> <td style="text-align:left;">application/x-csi</td> <td style="text-align:left;">.css</td> <td style="text-align:left;">text/css</td></tr> <tr><td style="text-align:left;">.cut</td> <td style="text-align:left;">application/x-cut</td> <td style="text-align:left;">.dbf</td> <td style="text-align:left;">application/x-dbf</td></tr> <tr><td style="text-align:left;">.dbm</td> <td style="text-align:left;">application/x-dbm</td> <td style="text-align:left;">.dbx</td> <td style="text-align:left;">application/x-dbx</td></tr> <tr><td style="text-align:left;">.dcd</td> <td style="text-align:left;">text/xml</td> <td style="text-align:left;">.dcx</td> <td style="text-align:left;">application/x-dcx</td></tr> <tr><td style="text-align:left;">.der</td> <td style="text-align:left;">application/x-x509-ca-cert</td> <td style="text-align:left;">.dgn</td> <td style="text-align:left;">application/x-dgn</td></tr> <tr><td style="text-align:left;">.dib</td> <td style="text-align:left;">application/x-dib</td> <td style="text-align:left;">.dll</td> <td style="text-align:left;">application/x-msdownload</td></tr> <tr><td style="text-align:left;">.doc</td> <td style="text-align:left;">application/msword</td> <td style="text-align:left;">.dot</td> <td style="text-align:left;">application/msword</td></tr> <tr><td style="text-align:left;">.drw</td> <td style="text-align:left;">application/x-drw</td> <td style="text-align:left;">.dtd</td> <td style="text-align:left;">text/xml</td></tr> <tr><td style="text-align:left;">.dwf</td> <td style="text-align:left;">Model/vnd.dwf</td> <td style="text-align:left;">.dwf</td> <td style="text-align:left;">application/x-dwf</td></tr> <tr><td style="text-align:left;">.dwg</td> <td style="text-align:left;">application/x-dwg</td> <td style="text-align:left;">.dxb</td> <td style="text-align:left;">application/x-dxb</td></tr> <tr><td style="text-align:left;">.dxf</td> <td style="text-align:left;">application/x-dxf</td> <td style="text-align:left;">.edn</td> <td style="text-align:left;">application/vnd.adobe.edn</td></tr> <tr><td style="text-align:left;">.emf</td> <td style="text-align:left;">application/x-emf</td> <td style="text-align:left;">.eml</td> <td style="text-align:left;">message/rfc822</td></tr> <tr><td style="text-align:left;">.ent</td> <td style="text-align:left;">text/xml</td> <td style="text-align:left;">.epi</td> <td style="text-align:left;">application/x-epi</td></tr> <tr><td style="text-align:left;">.eps</td> <td style="text-align:left;">application/x-ps</td> <td style="text-align:left;">.eps</td> <td style="text-align:left;">application/postscript</td></tr> <tr><td style="text-align:left;">.etd</td> <td style="text-align:left;">application/x-ebx</td> <td style="text-align:left;">.exe</td> <td style="text-align:left;">application/x-msdownload</td></tr> <tr><td style="text-align:left;">.fax</td> <td style="text-align:left;">image/fax</td> <td style="text-align:left;">.fdf</td> <td style="text-align:left;">application/vnd.fdf</td></tr> <tr><td style="text-align:left;">.fif</td> <td style="text-align:left;">application/fractals</td> <td style="text-align:left;">.fo</td> <td style="text-align:left;">text/xml</td></tr> <tr><td style="text-align:left;">.frm</td> <td style="text-align:left;">application/x-frm</td> <td style="text-align:left;">.g4</td> <td style="text-align:left;">application/x-g4</td></tr> <tr><td style="text-align:left;">.gbr</td> <td style="text-align:left;">application/x-gbr</td> <td style="text-align:left;">.</td> <td style="text-align:left;">application/x-</td></tr> <tr><td style="text-align:left;">.gif</td> <td style="text-align:left;">image/gif</td> <td style="text-align:left;">.gl2</td> <td style="text-align:left;">application/x-gl2</td></tr> <tr><td style="text-align:left;">.gp4</td> <td style="text-align:left;">application/x-gp4</td> <td style="text-align:left;">.hgl</td> <td style="text-align:left;">application/x-hgl</td></tr> <tr><td style="text-align:left;">.hmr</td> <td style="text-align:left;">application/x-hmr</td> <td style="text-align:left;">.hpg</td> <td style="text-align:left;">application/x-hpgl</td></tr> <tr><td style="text-align:left;">.hpl</td> <td style="text-align:left;">application/x-hpl</td> <td style="text-align:left;">.hqx</td> <td style="text-align:left;">application/mac-binhex40</td></tr> <tr><td style="text-align:left;">.hrf</td> <td style="text-align:left;">application/x-hrf</td> <td style="text-align:left;">.hta</td> <td style="text-align:left;">application/hta</td></tr> <tr><td style="text-align:left;">.htc</td> <td style="text-align:left;">text/x-component</td> <td style="text-align:left;">.htm</td> <td style="text-align:left;">text/html</td></tr> <tr><td style="text-align:left;">.html</td> <td style="text-align:left;">text/html</td> <td style="text-align:left;">.htt</td> <td style="text-align:left;">text/webviewhtml</td></tr> <tr><td style="text-align:left;">.htx</td> <td style="text-align:left;">text/html</td> <td style="text-align:left;">.icb</td> <td style="text-align:left;">application/x-icb</td></tr> <tr><td style="text-align:left;">.ico</td> <td style="text-align:left;">image/x-icon</td> <td style="text-align:left;">.ico</td> <td style="text-align:left;">application/x-ico</td></tr> <tr><td style="text-align:left;">.iff</td> <td style="text-align:left;">application/x-iff</td> <td style="text-align:left;">.ig4</td> <td style="text-align:left;">application/x-g4</td></tr> <tr><td style="text-align:left;">.igs</td> <td style="text-align:left;">application/x-igs</td> <td style="text-align:left;">.iii</td> <td style="text-align:left;">application/x-iphone</td></tr> <tr><td style="text-align:left;">.img</td> <td style="text-align:left;">application/x-img</td> <td style="text-align:left;">.ins</td> <td style="text-align:left;">application/x-internet-signup</td></tr> <tr><td style="text-align:left;">.isp</td> <td style="text-align:left;">application/x-internet-signup</td> <td style="text-align:left;">.IVF</td> <td style="text-align:left;">video/x-ivf</td></tr> <tr><td style="text-align:left;">.java</td> <td style="text-align:left;">java/*</td> <td style="text-align:left;">.jfif</td> <td style="text-align:left;">image/jpeg</td></tr> <tr><td style="text-align:left;">.jpe</td> <td style="text-align:left;">image/jpeg</td> <td style="text-align:left;">.jpe</td> <td style="text-align:left;">application/x-jpe</td></tr> <tr><td style="text-align:left;">.jpeg</td> <td style="text-align:left;">image/jpeg</td> <td style="text-align:left;">.jpg</td> <td style="text-align:left;">image/jpeg</td></tr> <tr><td style="text-align:left;">.jpg</td> <td style="text-align:left;">application/x-jpg</td> <td style="text-align:left;">.js</td> <td style="text-align:left;">application/x-javascript</td></tr> <tr><td style="text-align:left;">.jsp</td> <td style="text-align:left;">text/html</td> <td style="text-align:left;">.la1</td> <td style="text-align:left;">audio/x-liquid-file</td></tr> <tr><td style="text-align:left;">.lar</td> <td style="text-align:left;">application/x-laplayer-reg</td> <td style="text-align:left;">.latex</td> <td style="text-align:left;">application/x-latex</td></tr> <tr><td style="text-align:left;">.lavs</td> <td style="text-align:left;">audio/x-liquid-secure</td> <td style="text-align:left;">.lbm</td> <td style="text-align:left;">application/x-lbm</td></tr> <tr><td style="text-align:left;">.lmsff</td> <td style="text-align:left;">audio/x-la-lms</td> <td style="text-align:left;">.ls</td> <td style="text-align:left;">application/x-javascript</td></tr> <tr><td style="text-align:left;">.ltr</td> <td style="text-align:left;">application/x-ltr</td> <td style="text-align:left;">.m1v</td> <td style="text-align:left;">video/x-mpeg</td></tr> <tr><td style="text-align:left;">.m2v</td> <td style="text-align:left;">video/x-mpeg</td> <td style="text-align:left;">.m3u</td> <td style="text-align:left;">audio/mpegurl</td></tr> <tr><td style="text-align:left;">.m4e</td> <td style="text-align:left;">video/mpeg4</td> <td style="text-align:left;">.mac</td> <td style="text-align:left;">application/x-mac</td></tr> <tr><td style="text-align:left;">.man</td> <td style="text-align:left;">application/x-troff-man</td> <td style="text-align:left;">.math</td> <td style="text-align:left;">text/xml</td></tr> <tr><td style="text-align:left;">.mdb</td> <td style="text-align:left;">application/msaccess</td> <td style="text-align:left;">.mdb</td> <td style="text-align:left;">application/x-mdb</td></tr> <tr><td style="text-align:left;">.mfp</td> <td style="text-align:left;">application/x-shockwave-flash</td> <td style="text-align:left;">.mht</td> <td style="text-align:left;">message/rfc822</td></tr> <tr><td style="text-align:left;">.mhtml</td> <td style="text-align:left;">message/rfc822</td> <td style="text-align:left;">.mi</td> <td style="text-align:left;">application/x-mi</td></tr> <tr><td style="text-align:left;">.mid</td> <td style="text-align:left;">audio/mid</td> <td style="text-align:left;">.midi</td> <td style="text-align:left;">audio/mid</td></tr> <tr><td style="text-align:left;">.mil</td> <td style="text-align:left;">application/x-mil</td> <td style="text-align:left;">.mml</td> <td style="text-align:left;">text/xml</td></tr> <tr><td style="text-align:left;">.mnd</td> <td style="text-align:left;">audio/x-musicnet-download</td> <td style="text-align:left;">.mns</td> <td style="text-align:left;">audio/x-musicnet-stream</td></tr> <tr><td style="text-align:left;">.mocha</td> <td style="text-align:left;">application/x-javascript</td> <td style="text-align:left;">.movie</td> <td style="text-align:left;">video/x-sgi-movie</td></tr> <tr><td style="text-align:left;">.mp1</td> <td style="text-align:left;">audio/mp1</td> <td style="text-align:left;">.mp2</td> <td style="text-align:left;">audio/mp2</td></tr> <tr><td style="text-align:left;">.mp2v</td> <td style="text-align:left;">video/mpeg</td> <td style="text-align:left;">.mp3</td> <td style="text-align:left;">audio/mp3</td></tr> <tr><td style="text-align:left;">.mp4</td> <td style="text-align:left;">video/mpeg4</td> <td style="text-align:left;">.mpa</td> <td style="text-align:left;">video/x-mpg</td></tr> <tr><td style="text-align:left;">.mpd</td> <td style="text-align:left;">application/vnd.ms-project</td> <td style="text-align:left;">.mpe</td> <td style="text-align:left;">video/x-mpeg</td></tr> <tr><td style="text-align:left;">.mpeg</td> <td style="text-align:left;">video/mpg</td> <td style="text-align:left;">.mpg</td> <td style="text-align:left;">video/mpg</td></tr> <tr><td style="text-align:left;">.mpga</td> <td style="text-align:left;">audio/rn-mpeg</td> <td style="text-align:left;">.mpp</td> <td style="text-align:left;">application/vnd.ms-project</td></tr> <tr><td style="text-align:left;">.mps</td> <td style="text-align:left;">video/x-mpeg</td> <td style="text-align:left;">.mpt</td> <td style="text-align:left;">application/vnd.ms-project</td></tr> <tr><td style="text-align:left;">.mpv</td> <td style="text-align:left;">video/mpg</td> <td style="text-align:left;">.mpv2</td> <td style="text-align:left;">video/mpeg</td></tr> <tr><td style="text-align:left;">.mpw</td> <td style="text-align:left;">application/vnd.ms-project</td> <td style="text-align:left;">.mpx</td> <td style="text-align:left;">application/vnd.ms-project</td></tr> <tr><td style="text-align:left;">.mtx</td> <td style="text-align:left;">text/xml</td> <td style="text-align:left;">.mxp</td> <td style="text-align:left;">application/x-mmxp</td></tr> <tr><td style="text-align:left;">.net</td> <td style="text-align:left;">image/pnetvue</td> <td style="text-align:left;">.nrf</td> <td style="text-align:left;">application/x-nrf</td></tr> <tr><td style="text-align:left;">.nws</td> <td style="text-align:left;">message/rfc822</td> <td style="text-align:left;">.odc</td> <td style="text-align:left;">text/x-ms-odc</td></tr> <tr><td style="text-align:left;">.out</td> <td style="text-align:left;">application/x-out</td> <td style="text-align:left;">.p10</td> <td style="text-align:left;">application/pkcs10</td></tr> <tr><td style="text-align:left;">.p12</td> <td style="text-align:left;">application/x-pkcs12</td> <td style="text-align:left;">.p7b</td> <td style="text-align:left;">application/x-pkcs7-certificates</td></tr> <tr><td style="text-align:left;">.p7c</td> <td style="text-align:left;">application/pkcs7-mime</td> <td style="text-align:left;">.p7m</td> <td style="text-align:left;">application/pkcs7-mime</td></tr> <tr><td style="text-align:left;">.p7r</td> <td style="text-align:left;">application/x-pkcs7-certreqresp</td> <td style="text-align:left;">.p7s</td> <td style="text-align:left;">application/pkcs7-signature</td></tr> <tr><td style="text-align:left;">.pc5</td> <td style="text-align:left;">application/x-pc5</td> <td style="text-align:left;">.pci</td> <td style="text-align:left;">application/x-pci</td></tr> <tr><td style="text-align:left;">.pcl</td> <td style="text-align:left;">application/x-pcl</td> <td style="text-align:left;">.pcx</td> <td style="text-align:left;">application/x-pcx</td></tr> <tr><td style="text-align:left;">.pdf</td> <td style="text-align:left;">application/pdf</td> <td style="text-align:left;">.pdf</td> <td style="text-align:left;">application/pdf</td></tr> <tr><td style="text-align:left;">.pdx</td> <td style="text-align:left;">application/vnd.adobe.pdx</td> <td style="text-align:left;">.pfx</td> <td style="text-align:left;">application/x-pkcs12</td></tr> <tr><td style="text-align:left;">.pgl</td> <td style="text-align:left;">application/x-pgl</td> <td style="text-align:left;">.pic</td> <td style="text-align:left;">application/x-pic</td></tr> <tr><td style="text-align:left;">.pko</td> <td style="text-align:left;">application/vnd.ms-pki.pko</td> <td style="text-align:left;">.pl</td> <td style="text-align:left;">application/x-perl</td></tr> <tr><td style="text-align:left;">.plg</td> <td style="text-align:left;">text/html</td> <td style="text-align:left;">.pls</td> <td style="text-align:left;">audio/scpls</td></tr> <tr><td style="text-align:left;">.plt</td> <td style="text-align:left;">application/x-plt</td> <td style="text-align:left;">.png</td> <td style="text-align:left;">image/png</td></tr> <tr><td style="text-align:left;">.png</td> <td style="text-align:left;">application/x-png</td> <td style="text-align:left;">.pot</td> <td style="text-align:left;">application/vnd.ms-powerpoint</td></tr> <tr><td style="text-align:left;">.ppa</td> <td style="text-align:left;">application/vnd.ms-powerpoint</td> <td style="text-align:left;">.ppm</td> <td style="text-align:left;">application/x-ppm</td></tr> <tr><td style="text-align:left;">.pps</td> <td style="text-align:left;">application/vnd.ms-powerpoint</td> <td style="text-align:left;">.ppt</td> <td style="text-align:left;">application/vnd.ms-powerpoint</td></tr> <tr><td style="text-align:left;">.ppt</td> <td style="text-align:left;">application/x-ppt</td> <td style="text-align:left;">.pr</td> <td style="text-align:left;">application/x-pr</td></tr> <tr><td style="text-align:left;">.prf</td> <td style="text-align:left;">application/pics-rules</td> <td style="text-align:left;">.prn</td> <td style="text-align:left;">application/x-prn</td></tr> <tr><td style="text-align:left;">.prt</td> <td style="text-align:left;">application/x-prt</td> <td style="text-align:left;">.ps</td> <td style="text-align:left;">application/x-ps</td></tr> <tr><td style="text-align:left;">.ps</td> <td style="text-align:left;">application/postscript</td> <td style="text-align:left;">.ptn</td> <td style="text-align:left;">application/x-ptn</td></tr> <tr><td style="text-align:left;">.pwz</td> <td style="text-align:left;">application/vnd.ms-powerpoint</td> <td style="text-align:left;">.r3t</td> <td style="text-align:left;">text/vnd.rn-realtext3d</td></tr> <tr><td style="text-align:left;">.ra</td> <td style="text-align:left;">audio/vnd.rn-realaudio</td> <td style="text-align:left;">.ram</td> <td style="text-align:left;">audio/x-pn-realaudio</td></tr> <tr><td style="text-align:left;">.ras</td> <td style="text-align:left;">application/x-ras</td> <td style="text-align:left;">.rat</td> <td style="text-align:left;">application/rat-file</td></tr> <tr><td style="text-align:left;">.rdf</td> <td style="text-align:left;">text/xml</td> <td style="text-align:left;">.rec</td> <td style="text-align:left;">application/vnd.rn-recording</td></tr> <tr><td style="text-align:left;">.red</td> <td style="text-align:left;">application/x-red</td> <td style="text-align:left;">.rgb</td> <td style="text-align:left;">application/x-rgb</td></tr> <tr><td style="text-align:left;">.rjs</td> <td style="text-align:left;">application/vnd.rn-realsystem-rjs</td> <td style="text-align:left;">.rjt</td> <td style="text-align:left;">application/vnd.rn-realsystem-rjt</td></tr> <tr><td style="text-align:left;">.rlc</td> <td style="text-align:left;">application/x-rlc</td> <td style="text-align:left;">.rle</td> <td style="text-align:left;">application/x-rle</td></tr> <tr><td style="text-align:left;">.rm</td> <td style="text-align:left;">application/vnd.rn-realmedia</td> <td style="text-align:left;">.rmf</td> <td style="text-align:left;">application/vnd.adobe.rmf</td></tr> <tr><td style="text-align:left;">.rmi</td> <td style="text-align:left;">audio/mid</td> <td style="text-align:left;">.rmj</td> <td style="text-align:left;">application/vnd.rn-realsystem-rmj</td></tr> <tr><td style="text-align:left;">.rmm</td> <td style="text-align:left;">audio/x-pn-realaudio</td> <td style="text-align:left;">.rmp</td> <td style="text-align:left;">application/vnd.rn-rn_music_package</td></tr> <tr><td style="text-align:left;">.rms</td> <td style="text-align:left;">application/vnd.rn-realmedia-secure</td> <td style="text-align:left;">.rmvb</td> <td style="text-align:left;">application/vnd.rn-realmedia-vbr</td></tr> <tr><td style="text-align:left;">.rmx</td> <td style="text-align:left;">application/vnd.rn-realsystem-rmx</td> <td style="text-align:left;">.rnx</td> <td style="text-align:left;">application/vnd.rn-realplayer</td></tr> <tr><td style="text-align:left;">.rp</td> <td style="text-align:left;">image/vnd.rn-realpix</td> <td style="text-align:left;">.rpm</td> <td style="text-align:left;">audio/x-pn-realaudio-plugin</td></tr> <tr><td style="text-align:left;">.rsml</td> <td style="text-align:left;">application/vnd.rn-rsml</td> <td style="text-align:left;">.rt</td> <td style="text-align:left;">text/vnd.rn-realtext</td></tr> <tr><td style="text-align:left;">.rtf</td> <td style="text-align:left;">application/msword</td> <td style="text-align:left;">.rtf</td> <td style="text-align:left;">application/x-rtf</td></tr> <tr><td style="text-align:left;">.rv</td> <td style="text-align:left;">video/vnd.rn-realvideo</td> <td style="text-align:left;">.sam</td> <td style="text-align:left;">application/x-sam</td></tr> <tr><td style="text-align:left;">.sat</td> <td style="text-align:left;">application/x-sat</td> <td style="text-align:left;">.sdp</td> <td style="text-align:left;">application/sdp</td></tr> <tr><td style="text-align:left;">.sdw</td> <td style="text-align:left;">application/x-sdw</td> <td style="text-align:left;">.sit</td> <td style="text-align:left;">application/x-stuffit</td></tr> <tr><td style="text-align:left;">.slb</td> <td style="text-align:left;">application/x-slb</td> <td style="text-align:left;">.sld</td> <td style="text-align:left;">application/x-sld</td></tr> <tr><td style="text-align:left;">.slk</td> <td style="text-align:left;">drawing/x-slk</td> <td style="text-align:left;">.smi</td> <td style="text-align:left;">application/smil</td></tr> <tr><td style="text-align:left;">.smil</td> <td style="text-align:left;">application/smil</td> <td style="text-align:left;">.smk</td> <td style="text-align:left;">application/x-smk</td></tr> <tr><td style="text-align:left;">.snd</td> <td style="text-align:left;">audio/basic</td> <td style="text-align:left;">.sol</td> <td style="text-align:left;">text/plain</td></tr> <tr><td style="text-align:left;">.sor</td> <td style="text-align:left;">text/plain</td> <td style="text-align:left;">.spc</td> <td style="text-align:left;">application/x-pkcs7-certificates</td></tr> <tr><td style="text-align:left;">.spl</td> <td style="text-align:left;">application/futuresplash</td> <td style="text-align:left;">.spp</td> <td style="text-align:left;">text/xml</td></tr> <tr><td style="text-align:left;">.ssm</td> <td style="text-align:left;">application/streamingmedia</td> <td style="text-align:left;">.sst</td> <td style="text-align:left;">application/vnd.ms-pki.certstore</td></tr> <tr><td style="text-align:left;">.stl</td> <td style="text-align:left;">application/vnd.ms-pki.stl</td> <td style="text-align:left;">.stm</td> <td style="text-align:left;">text/html</td></tr> <tr><td style="text-align:left;">.sty</td> <td style="text-align:left;">application/x-sty</td> <td style="text-align:left;">.svg</td> <td style="text-align:left;">text/xml</td></tr> <tr><td style="text-align:left;">.swf</td> <td style="text-align:left;">application/x-shockwave-flash</td> <td style="text-align:left;">.tdf</td> <td style="text-align:left;">application/x-tdf</td></tr> <tr><td style="text-align:left;">.tg4</td> <td style="text-align:left;">application/x-tg4</td> <td style="text-align:left;">.tga</td> <td style="text-align:left;">application/x-tga</td></tr> <tr><td style="text-align:left;">.tif</td> <td style="text-align:left;">image/tiff</td> <td style="text-align:left;">.tif</td> <td style="text-align:left;">application/x-tif</td></tr> <tr><td style="text-align:left;">.tiff</td> <td style="text-align:left;">image/tiff</td> <td style="text-align:left;">.tld</td> <td style="text-align:left;">text/xml</td></tr> <tr><td style="text-align:left;">.top</td> <td style="text-align:left;">drawing/x-top</td> <td style="text-align:left;">.torrent</td> <td style="text-align:left;">application/x-bittorrent</td></tr> <tr><td style="text-align:left;">.tsd</td> <td style="text-align:left;">text/xml</td> <td style="text-align:left;">.txt</td> <td style="text-align:left;">text/plain</td></tr> <tr><td style="text-align:left;">.uin</td> <td style="text-align:left;">application/x-icq</td> <td style="text-align:left;">.uls</td> <td style="text-align:left;">text/iuls</td></tr> <tr><td style="text-align:left;">.vcf</td> <td style="text-align:left;">text/x-vcard</td> <td style="text-align:left;">.vda</td> <td style="text-align:left;">application/x-vda</td></tr> <tr><td style="text-align:left;">.vdx</td> <td style="text-align:left;">application/vnd.visio</td> <td style="text-align:left;">.vml</td> <td style="text-align:left;">text/xml</td></tr> <tr><td style="text-align:left;">.vpg</td> <td style="text-align:left;">application/x-vpeg005</td> <td style="text-align:left;">.vsd</td> <td style="text-align:left;">application/vnd.visio</td></tr> <tr><td style="text-align:left;">.vsd</td> <td style="text-align:left;">application/x-vsd</td> <td style="text-align:left;">.vss</td> <td style="text-align:left;">application/vnd.visio</td></tr> <tr><td style="text-align:left;">.vst</td> <td style="text-align:left;">application/vnd.visio</td> <td style="text-align:left;">.vst</td> <td style="text-align:left;">application/x-vst</td></tr> <tr><td style="text-align:left;">.vsw</td> <td style="text-align:left;">application/vnd.visio</td> <td style="text-align:left;">.vsx</td> <td style="text-align:left;">application/vnd.visio</td></tr> <tr><td style="text-align:left;">.vtx</td> <td style="text-align:left;">application/vnd.visio</td> <td style="text-align:left;">.vxml</td> <td style="text-align:left;">text/xml</td></tr> <tr><td style="text-align:left;">.wav</td> <td style="text-align:left;">audio/wav</td> <td style="text-align:left;">.wax</td> <td style="text-align:left;">audio/x-ms-wax</td></tr> <tr><td style="text-align:left;">.wb1</td> <td style="text-align:left;">application/x-wb1</td> <td style="text-align:left;">.wb2</td> <td style="text-align:left;">application/x-wb2</td></tr> <tr><td style="text-align:left;">.wb3</td> <td style="text-align:left;">application/x-wb3</td> <td style="text-align:left;">.wbmp</td> <td style="text-align:left;">image/vnd.wap.wbmp</td></tr> <tr><td style="text-align:left;">.wiz</td> <td style="text-align:left;">application/msword</td> <td style="text-align:left;">.wk3</td> <td style="text-align:left;">application/x-wk3</td></tr> <tr><td style="text-align:left;">.wk4</td> <td style="text-align:left;">application/x-wk4</td> <td style="text-align:left;">.wkq</td> <td style="text-align:left;">application/x-wkq</td></tr> <tr><td style="text-align:left;">.wks</td> <td style="text-align:left;">application/x-wks</td> <td style="text-align:left;">.wm</td> <td style="text-align:left;">video/x-ms-wm</td></tr> <tr><td style="text-align:left;">.wma</td> <td style="text-align:left;">audio/x-ms-wma</td> <td style="text-align:left;">.wmd</td> <td style="text-align:left;">application/x-ms-wmd</td></tr> <tr><td style="text-align:left;">.wmf</td> <td style="text-align:left;">application/x-wmf</td> <td style="text-align:left;">.wml</td> <td style="text-align:left;">text/vnd.wap.wml</td></tr> <tr><td style="text-align:left;">.wmv</td> <td style="text-align:left;">video/x-ms-wmv</td> <td style="text-align:left;">.wmx</td> <td style="text-align:left;">video/x-ms-wmx</td></tr> <tr><td style="text-align:left;">.wmz</td> <td style="text-align:left;">application/x-ms-wmz</td> <td style="text-align:left;">.wp6</td> <td style="text-align:left;">application/x-wp6</td></tr> <tr><td style="text-align:left;">.wpd</td> <td style="text-align:left;">application/x-wpd</td> <td style="text-align:left;">.wpg</td> <td style="text-align:left;">application/x-wpg</td></tr> <tr><td style="text-align:left;">.wpl</td> <td style="text-align:left;">application/vnd.ms-wpl</td> <td style="text-align:left;">.wq1</td> <td style="text-align:left;">application/x-wq1</td></tr> <tr><td style="text-align:left;">.wr1</td> <td style="text-align:left;">application/x-wr1</td> <td style="text-align:left;">.wri</td> <td style="text-align:left;">application/x-wri</td></tr> <tr><td style="text-align:left;">.wrk</td> <td style="text-align:left;">application/x-wrk</td> <td style="text-align:left;">.ws</td> <td style="text-align:left;">application/x-ws</td></tr> <tr><td style="text-align:left;">.ws2</td> <td style="text-align:left;">application/x-ws</td> <td style="text-align:left;">.wsc</td> <td style="text-align:left;">text/scriptlet</td></tr> <tr><td style="text-align:left;">.wsdl</td> <td style="text-align:left;">text/xml</td> <td style="text-align:left;">.wvx</td> <td style="text-align:left;">video/x-ms-wvx</td></tr> <tr><td style="text-align:left;">.xdp</td> <td style="text-align:left;">application/vnd.adobe.xdp</td> <td style="text-align:left;">.xdr</td> <td style="text-align:left;">text/xml</td></tr> <tr><td style="text-align:left;">.xfd</td> <td style="text-align:left;">application/vnd.adobe.xfd</td> <td style="text-align:left;">.xfdf</td> <td style="text-align:left;">application/vnd.adobe.xfdf</td></tr> <tr><td style="text-align:left;">.xhtml</td> <td style="text-align:left;">text/html</td> <td style="text-align:left;">.xls</td> <td style="text-align:left;">application/vnd.ms-excel</td></tr> <tr><td style="text-align:left;">.xls</td> <td style="text-align:left;">application/x-xls</td> <td style="text-align:left;">.xlw</td> <td style="text-align:left;">application/x-xlw</td></tr> <tr><td style="text-align:left;">.xml</td> <td style="text-align:left;">text/xml</td> <td style="text-align:left;">.xpl</td> <td style="text-align:left;">audio/scpls</td></tr> <tr><td style="text-align:left;">.xq</td> <td style="text-align:left;">text/xml</td> <td style="text-align:left;">.xql</td> <td style="text-align:left;">text/xml</td></tr> <tr><td style="text-align:left;">.xquery</td> <td style="text-align:left;">text/xml</td> <td style="text-align:left;">.xsd</td> <td style="text-align:left;">text/xml</td></tr> <tr><td style="text-align:left;">.xsl</td> <td style="text-align:left;">text/xml</td> <td style="text-align:left;">.xslt</td> <td style="text-align:left;">text/xml</td></tr> <tr><td style="text-align:left;">.xwd</td> <td style="text-align:left;">application/x-xwd</td> <td style="text-align:left;">.x_b</td> <td style="text-align:left;">application/x-x_b</td></tr> <tr><td style="text-align:left;">.sis</td> <td style="text-align:left;">application/vnd.symbian.install</td> <td style="text-align:left;">.sisx</td> <td style="text-align:left;">application/vnd.symbian.install</td></tr> <tr><td style="text-align:left;">.x_t</td> <td style="text-align:left;">application/x-x_t</td> <td style="text-align:left;">.ipa</td> <td style="text-align:left;">application/vnd.iphone</td></tr> <tr><td style="text-align:left;">.apk</td> <td style="text-align:left;">application/vnd.android.package-archive</td> <td style="text-align:left;">.xap</td> <td style="text-align:left;">application/x-silverlight-app</td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/StudyRecord/guide/android/ErrorCollection.html" class="prev">
        Android 异常收集
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/StudyRecord/assets/js/app.6c97d0be.js" defer></script><script src="/StudyRecord/assets/js/2.711b5d2d.js" defer></script><script src="/StudyRecord/assets/js/13.b9ed5b42.js" defer></script>
  </body>
</html>
